#!/usr/bin/env ruby

$LOAD_PATH << File.expand_path('../lib', File.dirname(__FILE__))

require 'keyble'

operation = Keyble::Operation.new(Keyble::ArgumentParser.new.parse(*ARGV))

if (operation.errors?)
  STDERR.puts(operation.message)

  exit(operation.return_code)
end

operation.perform!
